let Web3,TruffleContract,simpleContractArtifact;_b63‍.w("web3",[["default",["Web3"],function(v){Web3=v}]]);_b63‍.w("@truffle/contract",[["default",["TruffleContract"],function(v){TruffleContract=v}]]);_b63‍.w("../build/contracts/AgeContrat.json",[["default",["simpleContractArtifact"],function(v){simpleContractArtifact=v}]]);// Utilisez l'artefact du contrat




// Mettez à jour avec votre nœud Ethereum
const web3 = new Web3('http://localhost:8545');



const SimpleContract = TruffleContract(simpleContractArtifact);
SimpleContract.setProvider(web3.currentProvider);

async function deployContract() {
    try {
        // Obtenez les valeurs des champs du formulaire
        const accountNumber = document.getElementById('accountNumber').value;
        const age1 = document.getElementById('age').value;
        const securityNumber = document.getElementById('securityNumber').value;

        _b63‍.g.console.log(accountNumber);
        _b63‍.g.console.log(age1);

        const accounts = await web3.eth.getAccounts();
        const instance = await SimpleContract.new({ from: accounts[0] });

        _b63‍.g.console.log('Contract deployed at:', instance.address);

        // Exemple d'interaction avec le contrat
        await instance.setAge(25, { from: accounts[0] });
        const age = await instance.age();
        _b63‍.g.console.log('Age:', age);

        await instance.setVerificationCode(1234, { from: accounts[0] });
        const verificationResult = await instance.verifyCode(1234);
        _b63‍.g.console.log('Verification Result:', verificationResult);

    } catch (error) {
        _b63‍.g.console.error('Erreur lors du déploiement du contrat :', error);
    }
}
